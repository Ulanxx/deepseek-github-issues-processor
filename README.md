# GitHub Issues æ‰¹é‡å¤„ç†ä¸åˆ†æå·¥å…·

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºæ‰¹é‡è·å–ã€å¤„ç†å’Œåˆ†æ GitHub ä»“åº“çš„ Issues æ•°æ®ã€‚å®ƒä¸ä»…èƒ½æ”¶é›†å†å² Issues æ•°æ®ï¼Œè¿˜èƒ½åˆ©ç”¨ DeepSeek AI è¿›è¡Œé«˜çº§åˆ†æï¼Œå°†ç»“æœä»¥ JSON å’Œ Markdown æ ¼å¼ä¿å­˜ï¼Œä¾¿äºåç»­æ•°æ®æŒ–æ˜ä¸å¯è§†åŒ–ã€‚

### ç”Ÿæˆç»“æœç”¨ä¾‹ï¼š

[AUTOMA ISSUES åˆ†æ](./public/automa/2025-05-16/issues_automa_2025-05-16T04-10-23-283Z_interrupted_2025-05-16T04-10-23-283Z.md)

## åŠŸèƒ½ç‰¹ç‚¹

### åŸºç¡€åŠŸèƒ½

- **æ‰¹é‡è·å–** - æ‰¹é‡è·å–ä»»æ„ GitHub ä»“åº“çš„å†å² Issues
- **çµæ´»è¿‡æ»¤** - æ”¯æŒæŒ‰çŠ¶æ€ã€æ ‡ç­¾ã€æ—¶é—´èŒƒå›´ç­‰å¤šç»´åº¦è¿‡æ»¤
- **å®Œæ•´æ•°æ®** - å¯é€‰æ‹©æ€§è·å– Issues çš„è¯„è®ºå†…å®¹å’Œååº”(reactions)æ•°æ®
- **åˆ†æ‰¹å¤„ç†** - è‡ªåŠ¨åˆ†æ‰¹å¤„ç†å¹¶ä¿å­˜ä¸­é—´ç»“æœï¼Œé¿å… GitHub API é€Ÿç‡é™åˆ¶
- **ä¸­æ–­æ¢å¤** - æ”¯æŒåœ¨å¤„ç†è¿‡ç¨‹ä¸­æ–­æ—¶ä¿å­˜å½“å‰è¿›åº¦ï¼Œé¿å…æ•°æ®ä¸¢å¤±

### AI åˆ†æåŠŸèƒ½

- **æ™ºèƒ½åˆ†ç±»** - ä½¿ç”¨ DeepSeek AI è‡ªåŠ¨å¯¹ Issues è¿›è¡Œä¸»é¢˜åˆ†ç±»
- **å†…å®¹æ‘˜è¦** - è‡ªåŠ¨ç”Ÿæˆæ¯ä¸ª Issue çš„å†…å®¹æ‘˜è¦
- **æƒ…æ„Ÿåˆ†æ** - åˆ†æ Issue çš„æƒ…æ„Ÿå€¾å‘(ç§¯æ/ä¸­æ€§/æ¶ˆæ)
- **ç´§æ€¥åº¦è¯„ä¼°** - è¯„ä¼° Issue çš„ç´§æ€¥ç¨‹åº¦(é«˜/ä¸­/ä½)
- **å¯è§†åŒ–æŠ¥å‘Š** - ç”Ÿæˆç»“æ„åŒ–çš„ Markdown åˆ†ææŠ¥å‘Š

## å®‰è£…æ­¥éª¤

1. å…‹éš†æˆ–ä¸‹è½½æ­¤ä»“åº“
2. å®‰è£…ä¾èµ–é¡¹ï¼š

```bash
npm install
```

## ç¯å¢ƒé…ç½®

ä½¿ç”¨å‰éœ€åˆ›å»º`.env`é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åŸºäºç¤ºä¾‹æ–‡ä»¶ä¿®æ”¹ï¼š

```bash
cp .env.example .env
```

ç„¶åç¼–è¾‘`.env`æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å‚æ•°ï¼š

### å¿…å¡«é…ç½®é¡¹

- `GITHUB_TOKEN` - GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œç”¨äº API è®¿é—®
- `ORGANIZATION` - ç›®æ ‡ GitHub ç»„ç»‡åç§°
- `REPOSITORY` - ç›®æ ‡ä»“åº“åç§°

### DeepSeek API é…ç½®é¡¹

å¯ç”¨ AI åˆ†æåŠŸèƒ½æ—¶éœ€è¦é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

- `ENABLE_AI_ANALYSIS` - æ˜¯å¦å¯ç”¨ AI åˆ†æï¼Œé»˜è®¤å€¼ï¼štrue
- `DEEPSEEK_API_KEY` - DeepSeek API å¯†é’¥ï¼ˆå¿…å¡«ï¼‰
- `DEEPSEEK_API_URL` - DeepSeek API åœ°å€ï¼Œé»˜è®¤å€¼ï¼šhttps://api.deepseek.com/v1
- `DEEPSEEK_MODEL` - ä½¿ç”¨çš„ DeepSeek æ¨¡å‹ï¼Œé»˜è®¤å€¼ï¼šdeepseek-chat

### å…¶ä»–å¯é€‰é…ç½®é¡¹

- `BATCH_SIZE` - æ¯æ‰¹å¤„ç†çš„ Issue æ•°é‡ï¼Œé»˜è®¤å€¼ï¼š50
- `OUTPUT_DIR` - è¾“å‡ºç›®å½•è·¯å¾„ï¼Œé»˜è®¤å€¼ï¼š./output
- `RATE_LIMIT_DELAY` - API è¯·æ±‚é—´éš”(æ¯«ç§’)ï¼Œé»˜è®¤å€¼ï¼š1000
- `ENABLE_AI_ANALYSIS` - æ˜¯å¦å¯ç”¨ AI åˆ†æï¼Œé»˜è®¤å€¼ï¼štrue
- `DEEPSEEK_API_KEY` - DeepSeek API å¯†é’¥ï¼ˆå¯ç”¨ AI åˆ†ææ—¶å¿…å¡«ï¼‰
- `DEEPSEEK_API_URL` - DeepSeek API åœ°å€ï¼Œé»˜è®¤å€¼ï¼šhttps://api.deepseek.com
- `DEEPSEEK_MODEL` - ä½¿ç”¨çš„ DeepSeek æ¨¡å‹ï¼Œé»˜è®¤å€¼ï¼šdeepseek-chat

### è·å– GitHub Token

1. ç™»å½• GitHub è´¦æˆ·
2. è®¿é—®ã€ŒSettingsã€â†’ã€ŒDeveloper settingsã€â†’ã€ŒPersonal access tokensã€â†’ã€ŒTokens (classic)ã€
3. ç‚¹å‡»ã€ŒGenerate new tokenã€
4. é€‰æ‹©è‡³å°‘ã€Œpublic_repoã€æƒé™ï¼ˆç§æœ‰ä»“åº“éœ€é€‰æ‹©ã€Œrepoã€æƒé™ï¼‰
5. ç”Ÿæˆå¹¶å¤åˆ¶ä»¤ç‰Œåˆ°é…ç½®æ–‡ä»¶

### è·å– DeepSeek API å¯†é’¥

è®¿é—® DeepSeek å®˜ç½‘æ³¨å†Œè´¦æˆ·å¹¶ç”Ÿæˆ API å¯†é’¥ï¼ˆç”¨äºå¯ç”¨ AI åˆ†æåŠŸèƒ½ï¼‰ã€‚

## ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå‘½ä»¤

é¡¹ç›®æä¾›äº†å¤šä¸ªä¾¿æ·å‘½ä»¤è¿è¡Œä¸åŒåŠŸèƒ½ï¼š

**Issues è·å–å‘½ä»¤ï¼š**

```bash
# åŸºæœ¬è·å–
$ npm run fetch

# ä»…è·å–å¼€æ”¾çš„ Issues
$ npm run fetch:open

# ä»…è·å–å·²å…³é—­çš„ Issues
$ npm run fetch:closed

# è·å–æ‰€æœ‰çŠ¶æ€çš„ Issues
$ npm run fetch:all

# è·å–æœ€è¿‘ 30 å¤©çš„ Issues
$ npm run fetch:recent

# ä½¿ç”¨æ‰¹æ¬¡å¤§å°ä¸º20æ‰¹é‡è·å–
$ npm run fetch:batch

# è·å–æ—¶ä¸åŒ…å«è¯„è®º
$ npm run fetch:no-comments
```

**AI åˆ†æå‘½ä»¤ï¼š**

```bash
# åˆ†ææœ€æ–°çš„æ•°æ®
$ npm run analyze

# åˆ†æç‰¹å®š JSON æ–‡ä»¶
$ npm run analyze:file /path/to/your/file.json

# è‡ªåŠ¨æŸ¥æ‰¾å¹¶åˆ†ææœ€æ–°çš„ Issues æ•°æ®
$ npm run analyze:latest
```

### åŸç”Ÿå‘½ä»¤å‚æ•°

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åŸç”Ÿå‘½ä»¤å’Œè‡ªå®šä¹‰å‚æ•°ï¼š

```bash
$ npm start -- --state open --labels bug,enhancement --since 2023-01-01 --until 2023-12-31
```

#### å¯ç”¨å‚æ•°

| å‚æ•°             | è¯´æ˜                         | å¯é€‰å€¼                  | ç¤ºä¾‹                                  |
| ---------------- | ---------------------------- | ----------------------- | ------------------------------------- |
| `--no-comments`  | ä¸è·å– Issue è¯„è®º            | -                       | `--no-comments`                       |
| `--no-reactions` | ä¸è·å– Issue ååº”            | -                       | `--no-reactions`                      |
| `--state`        | æŒ‰çŠ¶æ€è¿‡æ»¤                   | `open`ã€`closed`ã€`all` | `--state open`                        |
| `--labels`       | æŒ‰æ ‡ç­¾è¿‡æ»¤ï¼ˆé€—å·åˆ†éš”ï¼‰       | ä»»æ„æ ‡ç­¾åç§°            | `--labels bug,enhancement`            |
| `--since`        | èµ·å§‹æ—¥æœŸï¼ˆISO æ ¼å¼ï¼‰         | YYYY-MM-DD              | `--since 2023-01-01`                  |
| `--until`        | ç»“æŸæ—¥æœŸï¼ˆISO æ ¼å¼ï¼‰         | YYYY-MM-DD              | `--until 2023-12-31`                  |
| `--file`         | ç”¨äº AI åˆ†æçš„æŒ‡å®š JSON æ–‡ä»¶ | æ–‡ä»¶è·¯å¾„                | `--file ./output/repo/date/file.json` |

### è¾“å‡ºç›®å½•ç»“æ„

é¡¹ç›®ç°åœ¨æŒ‰ä»¥ä¸‹å±‚çº§ç»“æ„ç»„ç»‡è¾“å‡ºæ–‡ä»¶ï¼š

```
output/
  â”œâ”€â”€ repository1/         # ä»“åº“åç§°
  â”‚    â”œâ”€â”€ 2025-05-16/    # æ—¥æœŸç›®å½•
  â”‚    â”‚    â”œâ”€â”€ issues_repository1_2025-05-16T12-00-00-000Z_final.json    # åŸå§‹æ•°æ®
  â”‚    â”‚    â””â”€â”€ issues_repository1_2025-05-16T12-00-00-000Z_final.md      # åˆ†ææŠ¥å‘Š
  â”‚    â””â”€â”€ 2025-05-15/    # å¦ä¸€å¤©çš„æ•°æ®
  â””â”€â”€ repository2/         # å¦ä¸€ä¸ªä»“åº“
       â””â”€â”€ 2025-05-16/
            â”œâ”€â”€ issues_repository2_2025-05-16T13-45-22-000Z_final.json
            â””â”€â”€ issues_repository2_2025-05-16T13-45-22-000Z_final.md
```

è¿™ç§ç»“æ„ä½¿å¾—æ•°æ®æ›´æœ‰ç»„ç»‡æ€§ï¼Œæ–¹ä¾¿æŒ‰ä»“åº“å’Œæ—¥æœŸæŸ¥çœ‹å’Œå¯¹æ¯”ç»“æœã€‚

### ä¸­æ–­å¤„ç†

å¦‚æœéœ€è¦ä¸­æ–­å¤„ç†è¿‡ç¨‹ï¼Œå¯æŒ‰`Ctrl+C`ï¼Œç³»ç»Ÿå°†ï¼š

1. æ˜¾ç¤ºå½“å‰å¤„ç†è¿›åº¦
2. è‡ªåŠ¨ä¿å­˜å·²å¤„ç†æ•°æ®
3. ç”Ÿæˆä¸­æ–­æ—¶çš„ Markdown åˆ†ææŠ¥å‘Š
4. å®‰å…¨é€€å‡ºç¨‹åº

### ä»…æ‰§è¡Œ AI åˆ†æ

å¦‚æœå·²æœ‰ JSON æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å•ç‹¬è¿è¡Œ AI åˆ†æï¼š

```bash
npx ts-node src/ai-categorize.ts
```

## è¾“å‡ºç»“æœ

å¤„ç†å®Œæˆåï¼Œè¾“å‡ºç›®å½•ï¼ˆé»˜è®¤ä¸º`./output`ï¼‰ä¼šåŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **JSON æ•°æ®æ–‡ä»¶**ï¼š

   - ä¸­é—´æ–‡ä»¶ï¼š`issues_<repository>_<timestamp>_batch_<number>_intermediate.json`
   - æœ€ç»ˆæ–‡ä»¶ï¼š`issues_<repository>_<timestamp>_final.json`
   - ä¸­æ–­æ–‡ä»¶ï¼š`issues_<repository>_<timestamp>_interrupted_<timestamp>.json`

2. **Markdown åˆ†ææŠ¥å‘Š**ï¼š
   - ä¸åŒå JSON æ–‡ä»¶å¯¹åº”çš„`.md`æ–‡ä»¶

### JSON æ•°æ®ç»“æ„

```json
{
  "metadata": {
    "repository": "organization/repository-name",
    "timestamp": "2025-05-16T03:06:18.608Z",
    "totalProcessed": 150,
    "successful": 148,
    "failed": 2,
    "errorCount": 2
  },
  "issues": [
    {
      "id": 12345,
      "number": 42,
      "title": "Issueæ ‡é¢˜",
      "state": "open",
      "created_at": "2023-01-01T00:00:00Z",
      "updated_at": "2023-01-02T00:00:00Z",
      "closed_at": null,
      "body": "Issueå†…å®¹...",
      "user": {
        "login": "username",
        "id": 123456
      },
      "labels": [
        {
          "id": 98765,
          "name": "bug",
          "color": "ff0000"
        }
      ],
      "comments": 5,
      "comments_data": [...],
      "reactions": {...},
      "ai_analysis": {
        "categories": ["bug", "performance"],
        "summary": "è¿™ä¸ªIssueæè¿°äº†...",
        "sentiment": "negative",
        "urgency": "high"
      }
    }
  ]
}
```

### AI åˆ†æå­—æ®µè¯´æ˜

- **categories** - åˆ†ç±»æ ‡ç­¾ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š

  - `bug` - é”™è¯¯æˆ–é—®é¢˜æŠ¥å‘Š
  - `enhancement` - åŠŸèƒ½å¢å¼ºæˆ–æ”¹è¿›
  - `feature-request` - æ–°åŠŸèƒ½è¯·æ±‚
  - `documentation` - æ–‡æ¡£ç›¸å…³é—®é¢˜
  - `question` - æé—®æˆ–æ±‚åŠ©
  - `performance` - æ€§èƒ½ç›¸å…³é—®é¢˜
  - `ui` - ç”¨æˆ·ç•Œé¢ç›¸å…³
  - `api` - API ç›¸å…³é—®é¢˜
  - `security` - å®‰å…¨ç›¸å…³é—®é¢˜
  - `uncategorized` - æœªå½’ç±»

- **sentiment** - æƒ…æ„Ÿåˆ†æï¼Œå¯èƒ½çš„å€¼ï¼š

  - `positive` - ç§¯æçš„
  - `neutral` - ä¸­ç«‹çš„
  - `negative` - æ¶ˆæçš„

- **urgency** - ç´§æ€¥ç¨‹åº¦ï¼Œå¯èƒ½çš„å€¼ï¼š
  - `high` - é«˜ç´§æ€¥æ€§
  - `medium` - ä¸­ç­‰ç´§æ€¥æ€§
  - `low` - ä½ç´§æ€¥æ€§

## é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰ AI åˆ†ææ¨¡æ¿

åœ¨`src/deepseek-service.ts`æ–‡ä»¶ä¸­å¯ä¿®æ”¹æç¤ºè¯æ¨¡æ¿ï¼Œä»¥å®šåˆ¶ AI åˆ†æè¡Œä¸ºã€‚

### æ•°æ®æµæ°´çº¿

å¯é€šè¿‡è„šæœ¬è¿æ¥å…¶ä»–å·¥å…·ï¼Œæ„å»ºå®Œæ•´æ•°æ®åˆ†ææµæ°´çº¿ï¼š

```bash
# ä¾‹ï¼šå¤„ç†Issueså¹¶å¯¼å‡ºCSV
npm start && node scripts/json-to-csv.js
```

## å¸¸è§é—®é¢˜

- **GitHub API é™æµ**ï¼šAPI é»˜è®¤é™åˆ¶ä¸ºæ¯å°æ—¶ 5000 è¯·æ±‚ï¼Œå¯é€šè¿‡å¢åŠ `RATE_LIMIT_DELAY`å€¼å‡ç¼“è¯·æ±‚é€Ÿç‡
- **å¤§é‡ Issues å¤„ç†**ï¼šå¤„ç†å¤§å‹ä»“åº“å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œå»ºè®®å¢åŠ æ‰¹å¤„ç†å¤§å°ä»¥æé«˜æ•ˆç‡
- **ä¸­æ–­åæ¢å¤**ï¼šå¦‚å·²æœ‰éƒ¨åˆ†å¤„ç†ç»“æœï¼Œå¯è¿è¡Œ AI åˆ†æè„šæœ¬å•ç‹¬åˆ†æ JSON æ–‡ä»¶
- **DeepSeek API å¼‚å¸¸**ï¼šå¦‚é‡åˆ†æé”™è¯¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§ä½¿ç”¨è§„åˆ™åˆ†ç±»

## å¼€å‘è€…ä¿¡æ¯

å¦‚éœ€æ·»åŠ æ–°åŠŸèƒ½æˆ–æŠ¥å‘Šé—®é¢˜ï¼Œè¯·åœ¨ GitHub ä»“åº“æäº¤ Issue æˆ– Pull Requestã€‚

---

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ‘‹
